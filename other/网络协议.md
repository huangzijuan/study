## 一、HTTPS过程
HTTPS其实是有两部分组成：HTTP + SSL/TLS
HTTPS在HTTP的基础上加入了TLS/SSL协议，SSL依靠证书来验证服务器的身份。TLS/SSL协议是处于传输层和应用层之间的。
注：SSL(Secure Socket Layer 安全套接层)   TLS(Transport Layer Security 传输层安全)

#### HTTPS主要作用：
1. 建立一个信息安全通道，保证数据传输的安全
2. 确认网站的安全性

#### HTTPS与HTTP的区别主要有：
1. CA认证：https协议需要到CA申请证书，一般免费证书很少，需要交费。
2. 明密传输：http是 超文本传输协议，信息是明文传输，https 则是具有 安全性的 ssl加密传输协议。
3. 所用端口：http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4. 协议状态：http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的 网络协议，比http协议安全。

#### 工作原理（握手流程）

1. 客户端请求服务器：支持的协议版本号，本身生成的随机数，支持的加密算法
2. 服务端回应请求 ：服务端生成的随机数，确认使用的协议版本号和加密算法，服务端证书(证书中包含公钥、证书的颁发机构、过期时间等)
3. 客户端确认证书有效，生成一个随机数，并用数字证书中的公钥加密随机数
4. 服务端根据自己的私钥 获取随机数
5. 根据约定的加密方法，使用前面的三个随机数，生成 对话密钥

![0d8e189b0c19e305f4803109abb00bf](/assets/0d8e189b0c19e305f4803109abb00bf.png)

![2179fbb6327b6b1ee594abd4edc375a](/assets/2179fbb6327b6b1ee594abd4edc375a.png)

## 二、TCP 三次握手、四次挥手过程

#### 三次握手过程
客户端主动打开，服务端被动打开
第一次握手：客户A发送同步位SYN = 1，随机产生seqNumber = 1234567的数据包到服务器B。服务器B由SYN = 1知道A要求建立连接
第二次握手：服务器B收到请求后确认联机信息，向客户A发送ackNumber=(主机A的seqNumber + 1)，SYN = 1，ACK = 1，随机产生seqNumber = 7654321的包
第三次握手：客户A收到后检查ackNumber是否正确（是否为第一次发送的seqNumber + 1），位码ACK是否为1。若正确，客户A再发送ackNumber=(服务器B的seqNumber + 1)，ACK = 1给服务器B，服务器B收到后确认ackNumber和ACK的值，若正确，则连接建立成功。

注：SYN(synchronous 同步位，用来建立连接)  ACK(acknowledgement 确认)  Sequence number(顺序号码)

#### 四次挥手过程
由于TCP
客户端主动关闭，服务端被动关闭
第一次挥手：Client发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态
第二次挥手：Server收到FIN后，发送一个ACK给Client，ACK为收到序号+1，Server进入CLOSE_WAIT状态
第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态
第四次挥手：Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，ACK为收到序号+1，Server进入CLOSED状态，完成四次挥手

## 三、HTTP协议
HTTP是基于“请求-相应”形式并且是短连接，无状态的协议
针对其无状态特性，在实际应用中又需要有状态的形式，会采用session/cookie技术来解决此问题
HTTP请求由三部分组成：
请求行 用来说明请求类型,要访问的资源以及所使用的HTTP版本
请求头 用来说明服务器要使用的附加信息 HOST将指出请求的目的地.User-Agent,服务器端和客户端脚本都能访问它
请求体 请求数据也叫主体，可以添加任意的其他数据

HTTP响应由三部分组成：
状态行 由HTTP协议版本号， 状态码， 状态消息 三部分组成
响应头 客户端要使用的一些附加信息，Content-Type:指定了MIME类型的HTML(text/html),编码类型是UTF-8
响应体 服务器返回给客户端的文本信息


## 四、单工、半双工、全双工
1. 单工：数据传输只支持在一个方向上传输
2. 半双工：允许数据在两个方向上传输，但在某一时刻，只允许数据在一个方向上传输，它实际是一种切换方向的单工通信
（早期的对讲机、集线器等设备都是基于半双工的产品）
3. 全双工：允许数据同时在两个方向上传输，它要求发送设备和接收设备都有独立的接收和发送能力
